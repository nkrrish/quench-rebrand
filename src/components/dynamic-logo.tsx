"use client";

import * as React from "react";
import { cn } from "@/lib/utils";
import { useThemeStore } from "@/lib/store";

export function DynamicLogo({ className }: { className?: string }) {
    const { isGradient, gradientColors, gradientDirection } = useThemeStore();
    const gradientId = "logo-gradient";

    return (
        <svg
            width="62"
            height="30"
            viewBox="0 0 83 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className={cn("w-[62px] h-[30px] transition-colors duration-300", !isGradient && "text-primary", className)}
        >
            {isGradient && (
                <defs>
                    <linearGradient id={gradientId} x1="0%" y1="0%" x2={gradientDirection.includes('right') ? '100%' : '0%'} y2={gradientDirection.includes('bottom') ? '100%' : '0%'}>
                        {gradientColors.map((color, index) => (
                            <stop key={index} offset={`${(index / (gradientColors.length - 1)) * 100}%`} stopColor={color} />
                        ))}
                    </linearGradient>
                </defs>
            )}
            <g clipPath="url(#clip0_10358_43237)">
                <path
                    d="M13.9814 11.8438C21.703 11.8438 27.9629 18.1467 27.9629 25.9219C27.9628 33.697 21.703 39.9999 13.9814 40C6.25982 40 4.64138e-05 33.697 0 25.9219C0 18.1467 6.25980 11.8438 13.9814 11.8438ZM69.0186 11.8438C76.7402 11.8438 83 18.1467 83 25.9219C83 33.697 76.7402 40 69.0186 40C61.297 39.9999 55.0372 33.697 55.0371 25.9219C55.0371 18.1467 61.297 11.8438 69.0186 11.8438ZM35.6191 0C36.1092 8.51734e-05 36.5067 0.400083 36.5068 0.893555V32.4023C36.4999 32.6707 36.5742 33.129 36.9355 33.6035C37.2539 34.0564 37.8712 34.4118 38.1455 34.4141L38.1709 34.4131H40.6123C41.1026 34.4131 41.5 34.814 41.5 35.3076V37.9893C41.4998 38.4827 41.1024 38.8828 40.6123 38.8828H38.1709C34.6105 38.6344 31.7404 36.4641 31.416 32.5879L31.4023 32.4023V0.893555C31.4025 0.400053 31.7999 3.70649e-05 32.29 0H35.6191ZM48.2686 0C48.7587 0 49.1561 0.40003 49.1562 0.893555V32.4023C49.1494 32.6707 49.2246 33.129 49.5859 33.6035C49.9044 34.0564 50.5218 34.412 50.7959 34.4141L50.8213 34.4131H53.2617C53.752 34.4131 54.1494 34.814 54.1494 35.3076V37.9893C54.1492 38.4827 53.7518 38.8828 53.2617 38.8828H50.8213C47.2608 38.6345 44.3898 36.4642 44.0654 32.5879L44.0518 32.4023V0.893555C44.0519 0.40016 44.4495 0.000210402 44.9395 0H48.2686ZM13.9814 16.9834C9.07881 16.9834 5.10449 20.9853 5.10449 25.9219C5.10454 30.8585 9.07884 34.8604 13.9814 34.8604C18.884 34.8603 22.8584 30.8584 22.8584 25.9219C22.8584 20.9853 18.884 16.9835 13.9814 16.9834ZM69.0186 16.9834C64.116 16.9835 60.1416 20.9853 60.1416 25.9219C60.1416 30.8584 64.116 34.8603 69.0186 34.8604C73.9212 34.8604 77.8955 30.8585 77.8955 25.9219C77.8955 20.9853 73.9212 16.9834 69.0186 16.9834Z"
                    fill={isGradient ? `url(#${gradientId})` : "currentColor"}
                />
            </g>
            <defs>
                <clipPath id="clip0_10358_43237">
                    <rect width="83" height="40" fill="white" />
                </clipPath>
            </defs>
        </svg>
    );
}
